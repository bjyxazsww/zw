"use strict";function Registor(){this.uname=this.$get("#uname"),this.upwd=this.$get("#upwd"),this.sub=this.$get("#sub"),this.go=this.$get("#login"),this.arr=[!1,!1],this.font=document.querySelectorAll("font"),this.addEvent()}function convertStrToObj(t){return t?JSON.parse(t):{}}Registor.prototype={constructor:Registor,$get:function(t){return document.querySelector(t)},addEvent:function(){var i=this;this.uname.onblur=function(){var t=this.value;/^[\u4e00-\u9fa5]{2,}$/.test(t)?(i.font[0].innerHTML="用戶名正確",i.arr[0]=!0):(i.font[0].innerHTML="用戶名錯誤",i.arr[0]=!1)},this.upwd.onblur=function(){var t=this.value;/^\w{2,}$/.test(t)?(i.font[1].innerHTML="密碼正確",i.arr[1]=!0):(i.font[1].innerHTML="密碼錯誤",i.arr[1]=!1)},this.sub.onclick=function(){var t,e,n,r;-1!==i.arr.indexOf(!1)?alert("请完善注册信息！"):(t=i.uname.value,e=i.upwd.value,r=(n=new Tool).getCookie("users")?n.getCookie("users"):"",t in(r=n.convertStrToObj(r))?alert("用户已存在！"):(r[t]=e,n.cookie("users",JSON.stringify(r),{expires:9,path:"/"}),alert("注册成功!")))},this.go.onclick=function(){location.href="login.html"}}},new Registor;